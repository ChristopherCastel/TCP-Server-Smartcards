/*
 * main.cpp
 *
 *  Created on: 28 Feb 2019
 *      Author: Castel Christopher
 */

#include "client/client_api.h"
#include "terminal/flyweight_factory.h"
#include "terminal/terminals/terminal_pcsc.h"

using namespace client;

int __cdecl main(void) {
	// config available factories
	FlyweightFactory terminals_cache;
	ITerminalFactory* pcsc = new PCSCFactory();
	terminals_cache.addFactory("PCSC", pcsc);


	ClientAPI client;
	client.initClient("./config/init.json", terminals_cache);
	client.connectClient();
	return 0;
}
